<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="stylesheet" href="css/profileStyle.css">
<title>Profil</title>
</head>

<body>
	<header>
		<a th:href="@{/home.html}"> <img src="css/img/logo.png"
			alt="application logo">
		</a>
		<ul>
			<li><a th:href="@{/profilePatient.html}">Profil</a></li>
			<li><a th:href="@{/logout}">Wyloguj</a></li>
		</ul>


	</header>
	<aside>
		<div class="menu-trigger">Menu</div>
		<nav>
			<ul class="homeCheckList">

				<li><a th:href="@{/homeSymptoms.html}">Objawy</a></li>
				<li><a th:href="@{/patientExaminations.html}">Badania</a></li>
				<li><a th:href="@{/calendar.html}">Kalendarz</a></li>
				<li><a th:href="@{/homePatientDiagnosis.html}">Historia
						chorób</a></li>
				<li><a th:href="@{/homePatientMedicaments.html}">Leczenie</a></li>
			</ul>
		</nav>
	</aside>
	<main>
	<div>
			<p class="succes" th:if="${succes}==0">Pomyślnie zaktualizowano!
			<p class="error" th:if="${succes}==1">Nie udało się zmienić nazwiska, spróbuj ponownie!
			<p class="error" th:if="${succes}==2">Ten mail jest już zajęty!
			<p class="error" th:if="${succes}==3">Nie udało się zmienić hasła, spróbuj ponownie!
		</div>
		<ul>
			<li>
				<p>
					Imię: <span th:text="${patient.getFirstName()}"></span>
				</p>
			</li>
			<li>
				<p>
					Nazwisko: <span th:text="${patient.getLastName()}"></span>
				</p>
			</li>

			<li><form th:action="@{/profilePatient/updateName}" method="post" onsubmit="return confirm('Czy na pewno chcesz zmienić nazwisko?');">
					<input type="text" class="text" id="lastName" name="lastName" pattern="(?=.*[a-z])(?=.*[A-Z]).{2,}"
						required> <input type="submit" class="button"
						name="changeSurname" id="changeSurname" value="Zmień">
				</form></li>

			<li>

				<p>
					Mail: <span th:text="${patient.getMail()}"></span>
				</p>
			</li>
			<li><form th:action="@{/profilePatient/updateEmail}" method="post" onsubmit="return confirm('Czy na pewno chcesz zmienić email?');">
					<input type="email" class="text" name="mail" id="" required>
					<input type="submit" class="button" name="changeEmail"
						id="changeEmail" value="Zmień">
				</form></li>
			<li>
				<p>
					Data urodzenia: <span th:text="${patient.getBDate()}"></span>
				</p>
				<p>
					Płeć: <span th:text="${patient.getSex()}"></span>
				</p>
			</li>
			<li>
				<p>Hasło:</p>
			</li>
			<li><form th:action="@{/profilePatient/updatePassword}" method="post" onsubmit="return confirm('Czy na pewno chcesz zmienić hasło?');">
					<input type="password" class="text" name="password" id=""
						pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
						title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
						required> <input type="submit" class="button"
						name="changePassword" id="changePassword" value="Zmień">
				</form></li>
		</ul>
	</main>
	<img class="profilGirl" src="css/img/Profile.png" alt="pacjent profil">
	<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
	<script>
		$(document).ready(function(click) {

			$(".menu-trigger").click(function() {

				$('nav').slideToggle();

			});

		});
	</script>
</body>

</html>